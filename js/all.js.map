{"version":3,"sources":["index.js"],"names":["INPUT","document","querySelector","BITTON","paginationGroup","getElementById","PAGINATION","nowPage","totalPage","checkInputField","element","IN_NUM","value","trim","innerHTML","init","overFivePageRender","overFivePageListener","pageRender","pageListener","ary","num","push","val","class","listRender","querySelectorAll","forEach","el","addEventListener","dataset","overFivePageGenerateData","overFivePageJudgePageStatus","pageStatus","first","front","back","last","FRAGMENT","createDocumentFragment","li","createElement","a","setAttribute","concat","innerText","appendChild","preBtnSet","nextBtnSet","overFivePageChange","this","classList","indexOf","e","target","keyCode"],"mappings":"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","file":"all.js","sourcesContent":["// 參考來源\n// https://shhhhh-ycy.medium.com/pagination-%E5%88%86%E9%A0%81%E5%B7%A5%E5%85%B7-d04e3f0c23b0\n// https://codepen.io/chingyuan/pen/OJVyQRQ?editors=0010\n\nconst INPUT = document.querySelector('#input_pageTotal input');\nconst BITTON = document.querySelector('#input_pageTotal button');\nconst paginationGroup = document.getElementById('pagination__group');\n\nconst PAGINATION = {\n    nowPage: 1,\n    totalPage: 0,\n};\n\nINPUT.addEventListener('input', function (e) {\n    checkInputField(e.target);\n});\n\nINPUT.addEventListener('keypress', function (e) {\n    if (!(e.keyCode === 13)) { return; }\n    if (checkInputField(e.target)) { init(); }\n});\n\nBITTON.addEventListener('click', () => {\n    init();\n});\n\nfunction checkInputField(element) {\n    const IN_NUM = +element.value.trim();\n    if (!(IN_NUM >= 1 && IN_NUM <= 100)) {\n        element.value = '';\n        paginationGroup.innerHTML = '';\n        return false;\n    }\n    PAGINATION.totalPage = IN_NUM;\n    return true;\n}\n\nfunction init() {\n    PAGINATION.nowPage = 1;\n    if (PAGINATION.totalPage > 5) {\n        overFivePageRender();\n        overFivePageListener();\n    } else {\n        pageRender();\n        pageListener();\n    }\n}\n\nfunction pageRender() {\n    const { totalPage, nowPage } = PAGINATION;\n    const ary = [];\n    let num = 1;\n\n    while (num <= totalPage) {\n        const classList = num === nowPage ? 'active' : '';\n        ary.push({ val: num, class: classList });\n        num += 1;\n    }\n\n    listRender(ary);\n}\n\nfunction pageListener() {\n    document.querySelectorAll('.pagination__item').forEach((el) => {\n        el.addEventListener('click', () => {\n            if (el.dataset.val > 0) {\n                PAGINATION.nowPage = +el.dataset.val;\n                pageRender();\n                pageListener();\n            }\n        });\n    });\n}\n\nfunction overFivePageRender() {\n    const { totalPage, nowPage } = PAGINATION;\n    const pageStatus = overFivePageJudgePageStatus(nowPage, totalPage);\n    const ary = overFivePageGenerateData(pageStatus, nowPage, totalPage);\n    listRender(ary);\n}\n\nfunction overFivePageJudgePageStatus(nowPage, totalPage) {\n    return nowPage === 1 ? 'first' : nowPage <= totalPage / 2 ? 'front' : nowPage !== totalPage ? 'back' : 'last';\n}\n\nfunction overFivePageGenerateData(pageStatus, nowPage, totalPage) {\n    const MAP = {\n        first: [\n            { val: -2, class: 'pre unclick' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: nowPage + 2, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: totalPage, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        front: [\n            { val: -2, class: 'pre' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: totalPage, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        back: [\n            { val: -2, class: 'pre' },\n            { val: 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        last: [\n            { val: -2, class: 'pre' },\n            { val: 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: nowPage - 2, class: '' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: -3, class: 'next unclick' },\n        ],\n    };\n    return MAP[pageStatus];\n}\n\nfunction listRender(ary) {\n    paginationGroup.innerHTML = '';\n    const FRAGMENT = document.createDocumentFragment();\n    ary.forEach((el) => {\n        const li = document.createElement('li');\n        const a = document.createElement('a');\n        li.setAttribute('data-val', el.val);\n        li.setAttribute('class', `pagination__item ${el.class}`);\n        a.setAttribute('href', 'javascript:;');\n        // a.setAttribute('href', '/coupon.php?usablePage=' + el.val);\n        a.innerText = el.val > 0 ? el.val : el.val === -1 ? '...' : el.val === -2 ? '<<' : el.val === -3 ? '>>' : '';\n        li.appendChild(a);\n        FRAGMENT.appendChild(li);\n    });\n    paginationGroup.appendChild(FRAGMENT);\n}\n\nfunction overFivePageListener() {\n    preBtnSet();\n    nextBtnSet();\n    document.querySelectorAll('.pagination__item').forEach((el) => {\n        if (el.dataset.val > 0) {\n            el.addEventListener('click', () => {\n                overFivePageChange(el.dataset.val);\n            });\n        }\n    });\n}\n\nfunction preBtnSet() {\n    document.querySelector('#pagination__group .pre').addEventListener('click', function () {\n        if (this.classList.value.indexOf('unclick') === -1) {\n            overFivePageChange(PAGINATION.nowPage - 1);\n        }\n    });\n}\n\nfunction nextBtnSet() {\n    document.querySelector('#pagination__group .next').addEventListener('click', function () {\n        if (this.classList.value.indexOf('unclick') === -1) {\n            overFivePageChange(PAGINATION.nowPage + 1);\n        }\n    });\n}\n\nfunction overFivePageChange(num) {\n    PAGINATION.nowPage = +num;\n    overFivePageRender();\n    overFivePageListener();\n}\n"]}